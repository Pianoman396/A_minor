const SliderConstructor=e=>{let t={container:e.container||document.getElementById("oo_slider_container"),numberOfSlides:e.numberOfSlides||5,autoStructure:e.autoStructure||!1,autoStart:e.autoStart||!1,autoLoop:e.autoloop||!1,style:e.style||"left",timer:e.timer||5,activeElement:0,progStep:1,offsetAmounts:{center:"0",left:"-100%",right:"100%"}};t.progWidth=100/t.numberOfSlides;let n={slider:e.slider||document.getElementById("slider"),slides:e.slides||document.getElementById("slider").children,prevBtn:e.prevBtn||document.getElementById("btn-prev"),nxtBtn:e.nxtBtn||document.getElementById("btn-next"),firstSlide:document.getElementById("first_slide"),lastSlide:document.getElementById("last_slide"),progBar:document.getElementById("prog-bar-inner")};const r=e=>e.disabled=!0,i=e=>e.disabled=!1,o=(e,o)=>{o||(e<=1?(r(n.prevBtn),i(n.nxtBtn)):e>=t.numberOfSlides-2?(i(n.prevBtn),r(n.nxtBtn)):e<t.numberOfSlides-2&&(i(n.prevBtn),i(n.nxtBtn)))},l=e=>"center"===e?t.offsetAmounts.center:"left"===e?t.offsetAmounts.left:"right"===e?t.offsetAmounts.right:void 0,d=(e,r)=>{r=r.split("=>");let i=l(r[0]),o=l(r[1]);n.slides[e].style.transition="none",n.slides[e].style[t.style]=i,setTimeout(function(){n.slides[e].style.transition="",n.slides[e].style[t.style]=o},50)},s=()=>{o(t.activeElement,t.autoLoop),t.activeElement>0?(d(t.activeElement-1,"left=>center"),d(t.activeElement,"center=>right"),t.activeElement--,i(n.nxtBtn)):(d(t.numberOfSlides-1,"left=>center"),d(t.activeElement,"center=>right"),t.activeElement=t.numberOfSlides-1),(()=>{let e=100/t.numberOfSlides;t.progStep<=t.numberOfSlides?(t.progStep--,t.progWidth=t.progWidth-e,n.progBar.style.width=`${t.progWidth}%`,n.progBar.innerHTML=`Step ${t.progStep}`):(t.progStep=0)&&(t.progStep=t.numberOfSlides)})()},u=()=>{o(t.activeElement,t.autoLoop),t.activeElement+1<t.numberOfSlides?(d(t.activeElement+1,"right=>center"),d(t.activeElement,"center=>left"),t.activeElement++,i(n.prevBtn)):(d(0,"right=>center"),d(t.activeElement,"center=>left"),t.activeElement=0),(()=>{let e=100/t.numberOfSlides;t.progWidth>=100?t.progStep=1:(t.progStep++,t.progWidth+=e,n.progBar.style.width=`${t.progWidth}%`,n.progBar.innerHTML=`Step ${t.progStep}`)})()};let c=null;const a=()=>{t.autoStart&&(c&&clearTimeout(c),c=setInterval(function(){u()},1e3*t.timer))};d(0,"center=>center");for(let e=1;e<t.numberOfSlides;e++)d(e,"right=>right"),o(t.activeElement,t.autoLoop);a(),n.prevBtn.addEventListener("click",()=>{s(),a()}),n.nxtBtn.addEventListener("click",()=>{u(),a()})},renderQuiz=()=>new Promise((e,t)=>{const n=new XMLHttpRequest;let r,i=document.getElementById("slider");n.open("POST","../../../wp-admin/admin-ajax.php?action=get_quizzes",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.onreadystatechange=(()=>{4===n.readyState&&200===n.status&&(r=JSON.parse(n.responseText).data,e(i.innerHTML=r))}),n.send("step=1")}),sliderInit=e=>{let t={container:document.querySelectorAll(e.container)[0]||document.getElementById("oo_slider_container"),numberOfSlides:e.numberOfSlides||document.getElementById("oo_slider_container").children,autoStructure:e.autoStructure||!1,progWidth:function(){return 100/t.numberOfSlides}};t.progWidth=100/t.numberOfSlides,console.log(t);const n=()=>{t.container.innerHTML=`${(e=>{let t='<div id="slider">';return t+="</div>"})(t.numberOfSlides)} ${(()=>{let e=`<div id="footer-container">\n\t\t\t<div id="progress-bar">\n\t\t\t<div id="prog-bar-inner" style="width:${t.progWidth}%;">Step 1</div>\n\t\t\t</div>\n\n\t\t\t<div id="typeform-btns">\n\n\t\t\t`,n='<div id="btn-container">';for(let e=0;e<2;e++)n+="<button></button>";return e+=n+="</div>",e+="</div></div>"})()}`,(()=>{let e=document.getElementById("btn-container").childNodes;e[0].id="btn-prev",e[1].id="btn-next"})()};return t.autoStructure&&n(),renderQuiz().then(()=>{SliderConstructor({autoStructure:!0,autoStart:!1,autoloop:!1,numberOfSlides:t.numberOfSlides,timer:10})})};sliderInit({autoStructure:!0,numberOfSlides:6});